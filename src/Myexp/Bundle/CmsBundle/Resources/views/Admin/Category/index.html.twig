{% extends 'SmtCmsBundle:Admin:layout.html.twig' %}
{% block title %}{{ 'category.list'|trans }}{% endblock %}
{% block breadcrumd %}
        <a href="{{ path('admin') }}">{{ 'nav.home'|trans }}</a> ><a href="{{app.request.getRequestUri()}}">{{ 'category.manage'|trans }}</a></span>
{% endblock %}
{% block content %}

<table class="table table-striped table-bordered bootstrap-datatable datatable">
    <thead>
        <tr> <th class="id">{{ 'category.id'|trans }}</th>
            <th>{{ 'category.title'|trans }}</th>
            <th>{{ 'category.parent'|trans }}</th>
            <th>{{ 'category.name'|trans }}</th>
            <th>{{ 'category.articles'|trans }}</th>
            <th class="actions">{{ 'common.actions'|trans }}</th>
        </tr>
    </thead>
    <tbody>
        {% for entity in entities %}
        <tr class="{{ cycle(['odd', 'even'], loop.index) }}">
            <td class="id"><a href="{{ path('category_show', { 'id': entity.id }) }}">{{ entity.id }}</a></td>
            <td>{{ entity.trans.title }}</td>
            <td>{% if entity.parent %}{{ entity.parent.trans.title }}{% else %}-{% endif %}</td>
            <td>{{ entity.name }}</td>
            <td>{{ entity.articles.count }}</td>
            <td>
                <a href="{{ path('category_show', { 'id': entity.id }) }}" class="btn btn-success">{{ 'common.show'|trans }}</a>
                <a href="{{ path('category_edit', { 'id': entity.id }) }}" class="btn btn-danger">{{ 'common.edit'|trans }}</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<form>
    <div class="form-actions">
        <input class="btn btn-primary" type="submit" value="{{ 'category.new'|trans }}"  onclick="saveToDraft(this, '{{ path('category_new') }}');" />
    </div>
</form>
{% endblock %}
