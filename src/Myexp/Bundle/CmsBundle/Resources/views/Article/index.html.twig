{% extends 'SmtCmsBundle:Admin:layout.html.twig' %}
{% block title %}{{ 'article.list'|trans }}{% endblock %}
{% block breadcrumd %}
<a href="{{ path('admin') }}">{{ 'nav.home'|trans }}</a> ><a href="{{app.request.getRequestUri()}}">{{ 'article.manage'|trans }}</a></span>
{% endblock %}
{% block content %}
<form action="{{ path('article_status') }}" method="post">
    <table class="table table-striped table-bordered  ">
        <thead>
            <tr>
                <th class="id"><input type="checkbox" onclick="check_all(this, 'ids');" title="{{ 'common.select'|trans }}" /></th>
                <th>{{ 'article.title'|trans }}</th>
                <th>{{ 'article.category'|trans }}</th>
                <th>{{ 'article.create_time'|trans }}</th>
                <th>{{ 'article.update_time'|trans }}</th>
                <th>{{ 'article.source'|trans }}</th>
                <th>{{ 'article.is_active'|trans }}</th>
                <th class="actions">{{ 'common.actions'|trans }}</th>
            </tr>
        </thead>
        <tbody>
        {% for entity in entities %}
            <tr class="{{ cycle(['odd', 'even'], loop.index) }}">
                <td class="id"><input type="checkbox" name="ids[]" value="{{ entity.id }}" /></td>
                <td>{{ entity.trans.title }}</td>
                <td>{{ entity.category.trans.title }}</td>
                <td>{{ entity.createTime|date('Y-m-d H:i') }}</td>
                <td>{{ entity.updateTime|date('Y-m-d H:i') }}</td>
                <td>{{ entity.source }}</td>
                <td>{% if entity.isActive %}{{ 'common.yes'|trans }}{% else %}{{ 'common.no'|trans }}{% endif %}</td>
                <td>
                    <a href="{{ path('article_show', { 'id': entity.id }) }}" class="btn btn-success">{{ 'common.show'|trans }}</a>
                    <a href="{{ path('article_edit', { 'id': entity.id }) }}" class="btn btn-danger">{{ 'common.edit'|trans }}</a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>   
    <div class="form-actions">
        <input class="btn btn-primary" type="submit" value="{{ 'article.new'|trans }}"  onclick="saveToDraft(this, '{{ path('article_new') }}');" />
        <input class="btn" type="submit" name="active" value="{{ 'common.active'|trans }}" />
        <input class="btn" type="submit" name="deny" value="{{ 'common.deny'|trans }}" />
        <input class="btn btn-warning" type="submit" name="delete" value="{{ 'common.delete'|trans }}" onclick="return confirm('{{ 'common.delete_confirm'|trans }}');" />
        <input type="hidden" name="url" value="{{ app.request.uri }}" />
            {% include 'SmtCmsBundle:Chips:paginator.html.twig' %}
    </div>
</form>
    {% endblock %}